{"ast":null,"code":"const API_BASE = process.env.REACT_APP_API_BASE || 'http://localhost:5000';\nexport async function authFetch(path, method = 'GET', body = null, token = null) {\n  const finalToken = token || sessionStorage.getItem(\"sessionToken\");\n  const headers = {\n    'Content-Type': 'application/json'\n  };\n  if (finalToken) {\n    headers['Authorization'] = `Bearer ${finalToken}`;\n  }\n  const res = await fetch(API_BASE + path, {\n    method,\n    headers,\n    body: body ? JSON.stringify(body) : undefined\n  });\n  const json = await res.json().catch(() => null);\n  if (!res.ok) throw {\n    status: res.status,\n    body: json\n  };\n  return json;\n}","map":{"version":3,"names":["API_BASE","process","env","REACT_APP_API_BASE","authFetch","path","method","body","token","finalToken","sessionStorage","getItem","headers","res","fetch","JSON","stringify","undefined","json","catch","ok","status"],"sources":["C:/Users/SanjeeviniCholin/OneDrive - BDIPlus/Desktop/mini_subscription_application/frontend/src/utils/api.js"],"sourcesContent":["const API_BASE = process.env.REACT_APP_API_BASE || 'http://localhost:5000';\r\n\r\nexport async function authFetch(path, method='GET', body=null, token=null) {\r\n  const finalToken = token || sessionStorage.getItem(\"sessionToken\");\r\n\r\n  const headers = { 'Content-Type': 'application/json' };\r\n\r\n  if (finalToken) {\r\n    headers['Authorization'] = `Bearer ${finalToken}`;\r\n  }\r\n\r\n  const res = await fetch(API_BASE + path, {\r\n    method,\r\n    headers,\r\n    body: body ? JSON.stringify(body) : undefined\r\n  });\r\n\r\n  const json = await res.json().catch(()=>null);\r\n  if (!res.ok) throw { status: res.status, body: json };\r\n  return json;\r\n}\r\n\r\n"],"mappings":"AAAA,MAAMA,QAAQ,GAAGC,OAAO,CAACC,GAAG,CAACC,kBAAkB,IAAI,uBAAuB;AAE1E,OAAO,eAAeC,SAASA,CAACC,IAAI,EAAEC,MAAM,GAAC,KAAK,EAAEC,IAAI,GAAC,IAAI,EAAEC,KAAK,GAAC,IAAI,EAAE;EACzE,MAAMC,UAAU,GAAGD,KAAK,IAAIE,cAAc,CAACC,OAAO,CAAC,cAAc,CAAC;EAElE,MAAMC,OAAO,GAAG;IAAE,cAAc,EAAE;EAAmB,CAAC;EAEtD,IAAIH,UAAU,EAAE;IACdG,OAAO,CAAC,eAAe,CAAC,GAAG,UAAUH,UAAU,EAAE;EACnD;EAEA,MAAMI,GAAG,GAAG,MAAMC,KAAK,CAACd,QAAQ,GAAGK,IAAI,EAAE;IACvCC,MAAM;IACNM,OAAO;IACPL,IAAI,EAAEA,IAAI,GAAGQ,IAAI,CAACC,SAAS,CAACT,IAAI,CAAC,GAAGU;EACtC,CAAC,CAAC;EAEF,MAAMC,IAAI,GAAG,MAAML,GAAG,CAACK,IAAI,CAAC,CAAC,CAACC,KAAK,CAAC,MAAI,IAAI,CAAC;EAC7C,IAAI,CAACN,GAAG,CAACO,EAAE,EAAE,MAAM;IAAEC,MAAM,EAAER,GAAG,CAACQ,MAAM;IAAEd,IAAI,EAAEW;EAAK,CAAC;EACrD,OAAOA,IAAI;AACb","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}